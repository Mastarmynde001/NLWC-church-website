<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>New Living Way Chapel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --accent-glow: rgba(27, 255, 255, 0.6);
            --primary-gradient: linear-gradient(135deg, #2e3192, #1bffff);
            --live-red: #ff0000;
        }

        body, html {
            margin: 0; padding: 0; overflow: hidden; background: #000;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            touch-action: none;
            overscroll-behavior: none;
        }

        /* --- DYNAMIC TOP BANNER --- */
        #liveBanner {
            position: fixed; top: 0; left: 0; width: 100%; height: 50px;
            background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px);
            color: white; display: flex; align-items: center; justify-content: center;
            z-index: 10000; font-weight: bold; font-size: 12px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        #liveBanner.live { background: var(--live-red); box-shadow: 0 4px 15px rgba(255, 0, 0, 0.3); }
        
        .banner-btn { 
            color: white; text-decoration: none; margin-left: 10px; 
            padding: 4px 12px; border: 1px solid white; border-radius: 20px;
            font-size: 10px; transition: 0.3s; text-transform: uppercase;
        }

        /* --- LOGO FIX --- */
        .logo { 
            width: 180px; 
            max-width: 60%; 
            margin-top: 40px; 
            margin-bottom: 10px;
            filter: contrast(1.2) brightness(1.1);
            mix-blend-mode: screen; 
        }

        #loader {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: #000; display: flex; align-items: center; justify-content: center;
            z-index: 9999; transition: opacity 0.8s ease;
        }
        .loader-logo { width: 60px; filter: invert(1); animation: pulse 1.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 0.4; } 50% { opacity: 1; } }

        #particleCanvas { position: fixed; top: 0; left: 0; z-index: 0; pointer-events: none; }

        /* --- 3D SCENE --- */
        .scene {
            width: 100vw; height: 100vh; perspective: 1500px;
            position: relative; z-index: 1; opacity: 0; transition: opacity 1s ease;
        }
        .cube {
            width: 100%; height: 100%; position: relative;
            transform-style: preserve-3d; 
            transition: transform 0.8s cubic-bezier(0.23, 1, 0.32, 1);
            will-change: transform;
        }
        .face {
            position: absolute; width: 100vw; height: 100vh;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-align: center; color: white; background-size: cover; background-position: center;
            background-blend-mode: overlay;
            backface-visibility: hidden;
            transform: translateZ(0);
        }

        .front  { transform: rotateX(0deg) translateZ(50vh); background-image: var(--primary-gradient), url('https://images.unsplash.com/photo-1438232992991-995b7058bbb3?auto=format&fit=crop&q=80&w=1000'); }
        .bottom { transform: rotateX(-90deg) translateZ(50vh); background-image: linear-gradient(135deg, #662d8c, #ed1e79), url('https://images.unsplash.com/photo-1510590337019-5ef8d3d32116?auto=format&fit=crop&q=80&w=1000'); }
        .back   { transform: rotateX(-180deg) translateZ(50vh); background-image: linear-gradient(135deg, #0092ff, #9cedff), url('https://images.unsplash.com/photo-1544427920-c49ccfb85579?auto=format&fit=crop&q=80&w=1000'); }
        .top    { transform: rotateX(-270deg) translateZ(50vh); background-image: linear-gradient(135deg, #662d91, #d91de1), url('https://images.unsplash.com/photo-1515162305285-0293e4767cc2?auto=format&fit=crop&q=80&w=1000'); }

        .glass-card {
            background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.15); padding: 2rem;
            border-radius: 20px; max-width: 400px; width: 80%; margin: 10px;
        }

        @media (max-width: 600px) {
            .glass-card { backdrop-filter: none; background: rgba(0, 0, 0, 0.75); padding: 1.5rem; }
            h1 { font-size: 1.4rem; }
            .logo { width: 140px; }
        }

        /* --- SOCIAL SIDEBAR WITH LABELS --- */
        .social-sidebar { 
            position: fixed; left: 12px; top: 50%; transform: translateY(-50%); 
            display: flex; flex-direction: column; gap: 12px; z-index: 1000; 
        }
        .social-icon {
            display: flex; align-items: center; width: 42px; height: 42px; 
            background: rgba(255,255,255,0.1); border-radius: 50%; color: white; 
            text-decoration: none; overflow: hidden; border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            white-space: nowrap;
        }
        .social-icon i { min-width: 42px; text-align: center; font-size: 18px; }
        .social-text { font-size: 13px; padding: 0 20px 0 10px; opacity: 0; transition: 0.3s; font-weight: 500; }
        
        @media (min-width: 1024px) {
            .social-icon:hover { width: auto; max-width: 350px; border-radius: 25px; }
            .social-icon:hover .social-text { opacity: 1; }
        }

        .facebook:hover { background: #1877F2 !important; }
        .instagram:hover { background: linear-gradient(45deg, #f09433, #dc2743, #bc1888) !important; }
        .tiktok:hover { background: #000 !important; border-color: #fff; }
        .youtube:hover { background: #FF0000 !important; }

        .indicators { position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%); display: flex; gap: 10px; z-index: 100; }
        .dot { width: 7px; height: 7px; border-radius: 50%; background: rgba(255,255,255,0.3); }
        .dot.active { background: white; transform: scale(1.3); }
        .btn { display: inline-block; padding: 10px 20px; background: white; color: #2e3192; text-decoration: none; border-radius: 50px; font-weight: bold; font-size: 0.85rem; margin-top: 10px; }
    </style>
</head>
<body>

    <div id="liveBanner"><span id="bannerContent">Syncing Schedule...</span></div>
    <div id="loader"><img src="logo.png" class="loader-logo"></div>
    <canvas id="particleCanvas"></canvas>

    <div class="social-sidebar">
        <a href="https://facebook.com/yourpage" target="_blank" class="social-icon facebook">
            <i class="fab fa-facebook-f"></i><span class="social-text">Follow us on Facebook</span>
        </a>
        <a href="https://instagram.com/yourpage" target="_blank" class="social-icon instagram">
            <i class="fab fa-instagram"></i><span class="social-text">Follow us on Instagram</span>
        </a>
        <a href="https://tiktok.com/@yourpage" target="_blank" class="social-icon tiktok">
            <i class="fab fa-tiktok"></i><span class="social-text">Follow us on TikTok</span>
        </a>
        <a href="https://youtube.com/yourchannel" target="_blank" class="social-icon youtube">
            <i class="fab fa-youtube"></i><span class="social-text">Subscribe to our YouTube Channel</span>
        </a>
    </div>

    <div class="indicators">
        <div class="dot active"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div>
    </div>

    <div class="scene" id="mainScene">
        <div class="cube" id="cube">
            <section class="face front">
                <img src="logo.png" class="logo">
                <div class="glass-card">
                    <h1>WELCOME HOME</h1>
                    <p>New Living Way Chapel: Where faith meets community.</p>
                    <a href="#" class="btn">New Here?</a>
                </div>
            </section>
            <section class="face bottom">
                <div class="glass-card">
                    <h1>OUR MISSION</h1>
                    <p>Building a legacy of love, faith, and spiritual growth for everyone.</p>
                </div>
            </section>
            <section class="face back">
                <div class="glass-card">
                    <h1>COMMUNITY</h1>
                    <p>Join our weekly small groups and grow together in grace.</p>
                </div>
            </section>
            <section class="face top">
                <div class="glass-card">
                    <h1>SERVICE TIMES</h1>
                    <p>Sundays @ 8:30 AM<br>Thursdays @ 7:00 AM</p>
                    <a href="#" class="btn">Directions</a>
                </div>
            </section>
        </div>
    </div>

    <script>
        let currentStep = 0, isSpinning = false;
        const cube = document.getElementById('cube');
        const dots = document.querySelectorAll('.dot');

        function rotate(dir) {
            if (isSpinning) return;
            isSpinning = true;
            dir === 'down' ? currentStep++ : currentStep--;
            cube.style.transform = `rotateX(${currentStep * 90}deg)`;
            let index = ((currentStep % 4) + 4) % 4;
            dots.forEach((d, i) => d.classList.toggle('active', i === index));
            setTimeout(() => { isSpinning = false; }, 850);
        }

        let touchStart = 0;
        window.addEventListener('touchstart', e => { touchStart = e.touches[0].clientY; }, {passive: true});
        window.addEventListener('touchend', e => {
            let touchEnd = e.changedTouches[0].clientY;
            if (touchStart > touchEnd + 40) rotate('down');
            else if (touchStart < touchEnd - 40) rotate('up');
        }, {passive: true});

        window.addEventListener('wheel', e => { 
            if (Math.abs(e.deltaY) > 20) rotate(e.deltaY > 0 ? 'down' : 'up'); 
        }, {passive: true});

        function updateBanner() {
            const content = document.getElementById('bannerContent');
            const now = new Date();
            const day = now.getDay(), hrs = now.getHours();
            const isLive = (day === 0 && hrs >= 8 && hrs < 11) || (day === 4 && hrs >= 7 && hrs < 9);
            if (isLive) {
                document.getElementById('liveBanner').classList.add('live');
                content.innerHTML = `• LIVE NOW <a href="#" class="banner-btn">JOIN</a>`;
            } else {
                content.innerHTML = `NEW LIVING WAY CHAPEL • WELCOME`;
            }
        }
        updateBanner();

        const canvas = document.getElementById('particleCanvas'), ctx = canvas.getContext('2d');
        let parts = [];
        function resize() {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            parts = [];
            const cnt = window.innerWidth < 600 ? 15 : 40;
            for(let i=0; i<cnt; i++) parts.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, s:Math.random()*1.5});
        }
        function anim() {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            ctx.fillStyle = "rgba(255,255,255,0.2)";
            parts.forEach(p => { p.y -= 0.3; if(p.y < 0) p.y = canvas.height; ctx.beginPath(); ctx.arc(p.x,p.y,p.s,0,Math.PI*2); ctx.fill(); });
            requestAnimationFrame(anim);
        }
        window.addEventListener('resize', resize); resize(); anim();

        window.onload = () => {
            document.getElementById('loader').style.opacity = '0';
            document.getElementById('mainScene').style.opacity = '1';
            setTimeout(() => document.getElementById('loader').style.display = 'none', 800);
        };
    </script>
</body>
</html>
